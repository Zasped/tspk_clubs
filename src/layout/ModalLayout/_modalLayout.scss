.modal {
  height: 100%;
  width: 100%;
  position: fixed;
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: var(--background);
  backdrop-filter: blur(8px);
  z-index: 5;
  //opacity: 0;
  pointer-events: none;

  &.active {
    //opacity: 1;
    pointer-events: all;
  }

  &__content {
    max-width: 60%;
    max-height: 98%;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    padding: 32px;
    background-color: var(--white);
    position: relative;

    .modal-svg {
      position: absolute !important;
      top: 0;
      left: 0;
      pointer-events: none;
      rect {
        stroke: var(--border);
        stroke-width: 1.5px;
        stroke-dasharray: 3852;
        stroke-dashoffset: 3852;
      }
    }
  }
}

//.modal_anim-enter {
//  opacity: 0;
//  transform: scale(.9);
//}
//
//.modal_anim-enter-active {
//  opacity: 1;
//  transform: translateX(0);
//  transition: opacity 300ms, transform 300ms;
//}
//
//.modal_anim-exit {
//  opacity: 1;
//}
//
//.modal_anim-exit-active {
//  opacity: 0;
//  transform: scale(1);
//  transition: opacity 300ms, transform 300ms;
//}


.modal {
  transform: scale(1);
  background: rgba(0, 0, 0, .0);
  animation: fadeIn .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

  .modal__content {
    background-color: transparent;
    animation: modalFadeIn .5s .8s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

    > * {
      opacity: 0;
      position: relative;
      animation: modalContentFadeIn .5s 1s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
    }

    .modal-svg {
      rect {
        animation: sketchIn .5s .3s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
      }
    }
  }

  &.out {
    animation: quickScaleDown 0s .5s linear forwards;

    .modal {
      animation: fadeOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

      .modal__content {
        animation: modalFadeOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

        > * {
          animation: modalContentFadeOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
        }

        .modal-svg {
          rect {
            animation: sketchOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
          }
        }
      }
    }
  }
}

.modal_anim-enter {

}

.modal_anim-enter-active {
  transform: scale(1);

  .modal {
    background: rgba(0, 0, 0, .0);
    animation: fadeIn .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

    .modal__content {
      background-color: transparent;
      animation: modalFadeIn .5s .8s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

      > * {
        opacity: 0;
        position: relative;
        animation: modalContentFadeIn .5s 1s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
      }

      .modal-svg {
        rect {
          animation: sketchIn .5s .3s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
        }
      }
    }
  }

}

.modal_anim-exit {

}

.modal_anim-exit-active {

  animation: quickScaleDown 0s .5s linear forwards;
  .modal {
    animation: fadeOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

    .modal__content {
      animation: modalFadeOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;

      > * {
        animation: modalContentFadeOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
      }

      .modal-svg {
        rect {
          animation: sketchOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
        }
      }
    }
  }

}


@keyframes fadeIn {
  0% {
    background: rgba(255, 255, 255, .0);
  }
  100% {
    background: rgba(255, 255, 255, .7);
  }
}

@keyframes fadeOut {
  0% {
    background: rgba(255, 255, 255, .7);
  }
  100% {
    background: rgba(255, 255, 255, .0);
  }
}

@keyframes quickScaleDown {
  0% {
    transform: scale(1);
  }
  99.9% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}

@keyframes sketchIn {
  0% {
    stroke-dashoffset: 3852;
    stroke-dasharray: 3852;
  }
  100% {
    stroke-dashoffset: 0;
    stroke-dasharray: 0;
  }
}

@keyframes sketchOut {
  0% {
    stroke-dashoffset: 0;
    stroke-dasharray: 0;
  }
  100% {
    stroke-dashoffset: 3852;
    stroke-dasharray: 3852;
  }
}

@keyframes modalFadeIn {
  0% {
    background-color: transparent;
  }
  100% {
    background-color: white;
  }
}

@keyframes modalFadeOut {
  0% {
    background-color: white;
  }
  100% {
    background-color: transparent;
  }
}

@keyframes modalContentFadeIn {
  0% {
    opacity: 0;
    top: -20px;
  }
  100% {
    opacity: 1;
    top: 0;
  }
}

@keyframes modalContentFadeOut {
  0% {
    opacity: 1;
    top: 0;
  }
  100% {
    opacity: 0;
    top: -20px;
  }
}


@media (max-width: 1441px) {
  .modal__content {
    max-width: 70%;
  }
}

@media (max-width: 1135px) {
  .modal__content {
    max-width: 90%;
    display: flex;
    gap: 20px;
    height: 100%;
  }
}

@media (max-width: 476px) {
  .modal__content {
    padding: 16px;
    max-width: 95%;
  }
}
